{"version":3,"file":"src_js_plugins_analysis_analysis_ts.f8f83622e8b709b18360.js","mappings":";;;;;;;;;;;;;;;;;;;;AAAwD;AACjC;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACO;AACP,YAAY,kDAAkD,EAAE,2EAAqB;AACrF;AACA;AACA,IAAI,2EAAqB;AACzB;AACA;AACA;AACA,KAAK;AACL;AACA,IAAI,2EAAqB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,6CAAC;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,6CAAC;AACzB;AACA;AACA,wBAAwB,6CAAC;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,6CAAC;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,6CAAC,qCAAqC,iCAAiC;AAC3F,oBAAoB,6CAAC;AACrB;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL,IAAI,2EAAqB;AACzB;AACA;AACA;AACA;AACA,gBAAgB,6CAAC;AACjB;AACA,SAAS;AACT,KAAK;AACL,IAAI,2EAAqB;AACzB;AACA;AACA;AACA,YAAY,6CAAC,qCAAqC,iCAAiC;AACnF,YAAY,6CAAC;AACb;AACA,SAAS;AACT,KAAK;AACL;AACO;AACP;AACA,IAAI,6CAAC,uBAAuB,uEAAiB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4IAA4I;AAC5I;AACA;AACA;AACA;AACA;AACA;AACA,8JAA8J,qBAAqB;AACnL;AACA;AACA;AACA;AACA,8JAA8J,4BAA4B;AAC1L;AACA;AACA;AACA;AACA,8GAA8G;AAC9G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6JAA6J;AAC7J;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,6CAAC,yBAAyB,uEAAiB;AAC/C;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA,IAAI,6CAAC;AACL;AACA;AACA,KAAK;AACL,IAAI,6CAAC;AACL;AACA;AACA,KAAK;AACL,IAAI,6CAAC;AACL,QAAQ,6CAAC;AACT,KAAK;AACL,IAAI,6CAAC;AACL;AACA;AACA,YAAY,6CAAC;AACb,SAAS;AACT;AACA;AACA,KAAK;AACL;AACO;AACP,YAAY,gBAAgB,EAAE,2EAAqB;AACnD,sBAAsB,6CAAC;AACvB,gBAAgB,6CAAC;AACjB;AACA;AACA,QAAQ,sDAAU;AAClB,6CAA6C,IAAI,QAAQ,UAAU;AACnE;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,QAAQ,sDAAU;AAClB,6CAA6C,IAAI,QAAQ,UAAU,UAAU,OAAO;AACpF;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACO;AACP,YAAY,uBAAuB,EAAE,2EAAqB;AAC1D;AACA;AACA,IAAI,6CAAC;AACL;AACO;AACP,YAAY,sCAAsC,EAAE,2EAAqB;AACzE,iBAAiB,6CAAC;AAClB;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://keeptrack.space/./src/js/plugins/analysis/analysis.ts"],"sourcesContent":["import { keepTrackApi } from '@app/js/api/keepTrackApi';\nimport $ from 'jquery';\n/**\n * /////////////////////////////////////////////////////////////////////////////\n *\n * analysis.ts is a plugin for viewing trend data on TLEs and calculating best\n * pass times.\n *\n * http://keeptrack.space\n *\n * @Copyright (C) 2016-2021 Theodore Kruczek\n *\n * KeepTrack is free software: you can redistribute it and/or modify it under\n * the terms of the GNU General Public License as published by the Free Software\n * Foundation, either version 3 of the License, or (at your option) any later version.\n *\n * KeepTrack is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS\n * FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n * You should have received a copy of the GNU General Public License along with\n * KeepTrack. If not, see <http://www.gnu.org/licenses/>.\n *\n * /////////////////////////////////////////////////////////////////////////////\n */\nexport const init = () => {\n    const { sensorManager, objectManager, satSet, uiManager } = keepTrackApi.programs;\n    let isAnalysisMenuOpen = false;\n    // Add HTML\n    keepTrackApi.register({\n        method: 'uiManagerInit',\n        cbName: 'analysis',\n        cb: uiManagerInit,\n    });\n    // Add JavaScript\n    keepTrackApi.register({\n        method: 'bottomMenuClick',\n        cbName: 'analysis',\n        cb: (iconName) => {\n            if (iconName === 'menu-analysis') {\n                if (isAnalysisMenuOpen) {\n                    isAnalysisMenuOpen = false;\n                    $('#menu-analysis').removeClass('bmenu-item-selected');\n                    uiManager.hideSideMenus();\n                    return;\n                }\n                else {\n                    uiManager.hideSideMenus();\n                    isAnalysisMenuOpen = true;\n                    if (objectManager.selectedSat != -1) {\n                        const sat = satSet.getSat(objectManager.selectedSat);\n                        $('#anal-sat').val(sat.sccNum);\n                    }\n                    if (sensorManager.checkSensorSelected()) {\n                        $('#anal-type').html(`<optgroup label=\"Orbital Parameters\">\n                <option value='inc'>Inclination</option>\n                <option value='ap'>Apogee</option>\n                <option value='pe'>Perigee</option>\n                <option value='per'>Period</option>\n                <option value='e'>Eccentricity</option>\n                <option value='ra'>RAAN</option>\n                <option value='all'>All</option>\n              </optgroup>\n              <optgroup id=\"anal-look-opt\" label=\"Look Angles\">\n                <option value='az'>Azimuth</option>\n                <option value='el'>Elevation</option>\n                <option value='rng'>Range</option>\n                <option value='rae'>All</option>\n              </optgroup>`);\n                    }\n                    else {\n                        $('#anal-type').html(`<optgroup label=\"Orbital Parameters\">\n                <option value='inc'>Inclination</option>\n                <option value='ap'>Apogee</option>\n                <option value='pe'>Perigee</option>\n                <option value='per'>Period</option>\n                <option value='e'>Eccentricity</option>\n                <option value='ra'>RAAN</option>\n                <option value='all'>All</option>\n              </optgroup>`);\n                    }\n                    // Reinitialize the Material CSS Code\n                    const elems = document.querySelectorAll('select');\n                    M.FormSelect.init(elems);\n                    $('#analysis-menu').effect('slide', { direction: 'left', mode: 'show' }, 1000);\n                    $('#menu-analysis').addClass('bmenu-item-selected');\n                    return;\n                }\n            }\n        },\n    });\n    keepTrackApi.register({\n        method: 'selectSatData',\n        cbName: 'analysis',\n        cb: (sat) => {\n            if (uiManager.isAnalysisMenuOpen) {\n                $('#anal-sat').val(sat.sccNum);\n            }\n        },\n    });\n    keepTrackApi.register({\n        method: 'hideSideMenus',\n        cbName: 'analysis',\n        cb: () => {\n            $('#analysis-menu').effect('slide', { direction: 'left', mode: 'hide' }, 1000);\n            $('#menu-analysis').removeClass('bmenu-item-selected');\n            isAnalysisMenuOpen = false;\n        },\n    });\n};\nexport const uiManagerInit = () => {\n    // Side Menu\n    $('#left-menus').append(keepTrackApi.html `\n        <div id=\"analysis-menu\" class=\"side-menu-parent start-hidden text-select\">\n          <div id=\"analysis-inner-menu\" class=\"side-menu\">\n            <ul>\n              <h5 class=\"center-align\">Analysis Menu</h5>\n              <li class=\"divider\"></li>\n              <div class=\"row\"></div>\n              <form id=\"analysis-form\">\n                <div class=\"row\">\n                  <div class=\"input-field col s12\">\n                    <input value=\"25544\" id=\"anal-sat\" type=\"text\" />\n                    <label for=\"anal-sat\" class=\"active\">Satellite Number</label>\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <div class=\"input-field col s12\">\n                    <select value=\"0\" id=\"anal-type\" type=\"text\">\n                      <optgroup label=\"Orbital Parameters\">\n                        <option value=\"inc\">Inclination</option>\n                        <option value=\"ap\">Apogee</option>\n                        <option value=\"pe\">Perigee</option>\n                        <option value=\"per\">Period</option>\n                        <option value=\"e\">Eccentricity</option>\n                        <option value=\"ra\">RAAN</option>\n                        <option value=\"all\">All</option>\n                      </optgroup>\n                      <optgroup id=\"anal-look-opt\" label=\"Look Angles\">\n                        <option value=\"az\">Azimuth</option>\n                        <option value=\"el\">Elevation</option>\n                        <option value=\"rng\">Range</option>\n                        <option value=\"rae\">All</option>\n                      </optgroup>\n                    </select>\n                    <label for=\"disabled\">Chart Type</label>\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <center>\n                    <button id=\"analysis-submit\" class=\"btn btn-ui waves-effect waves-light\" type=\"submit\" name=\"action\">View Trends &#9658;</button>\n                  </center>\n                </div>\n              </form>\n            </ul>\n            <div class=\"row\">\n              <center>\n                <button class=\"btn btn-ui waves-effect waves-light\" onclick=\"keepTrackApi.programs.satSet.exportTle2Txt(keepTrackApi.programs.satSet.satData);\">Export TLEs &#9658;</button>\n              </center>\n            </div>\n            <div class=\"row\">\n              <center>\n                <button class=\"btn btn-ui waves-effect waves-light\" onclick=\"keepTrackApi.programs.satSet.exportTle2Csv(keepTrackApi.programs.satSet.satData);\">Export Catalog CSV &#9658;</button>\n              </center>\n            </div>\n            <div class=\"row\">\n              <center>\n                <button id=\"findCsoBtn\" class=\"btn btn-ui waves-effect waves-light\">Find Close Objects &#9658;</button>\n              </center>\n            </div>\n            <div class=\"row\"></div>\n            <h5 class=\"center-align\">Best Pass Times</h5>\n            <li class=\"divider\"></li>\n            <div class=\"row\"></div>\n            <div class=\"row\">\n              <form id=\"analysis-bpt\">\n                <div class=\"row\">\n                  <div class=\"input-field col s12\">\n                    <input value=\"25544,00005\" id=\"analysis-bpt-sats\" type=\"text\" />\n                    <label for=\"analysis-bpt-sats\" class=\"active\">Satellite Numbers</label>\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <center>\n                    <button id=\"analysis-bpt-submit\" class=\"btn btn-ui waves-effect waves-light\" type=\"submit\" name=\"action\">Generate Best Pass Times &#9658;</button>\n                  </center>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      `);\n    // Bottom Icon\n    $('#bottom-icons').append(keepTrackApi.html `\n        <div id=\"menu-analysis\" class=\"bmenu-item\">\n          <img\n            alt=\"analysis\"\n            src=\"\"\n            delayedsrc=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAFDUlEQVR4nO2cUVMbVRTH/2dDbBBQHxVfWxhLkwBJWh/6MWy0dqyjY9Gh01E/QeknUKdTRqmjY51aTf0YPNiGEEOgHbCvUh9VQFIhe3xJnQzZm92b7O5BPL+33XPv2Qt/9vzvPckAKIqiKIqiKIqiKIqiKIqiKErkkO2E9BJzFAs5KtTzZPU7daJaiBIMFUAYFUAYFUAYFUCYgbAS2br/f52wdoP6BgijAgijAgijAgijAggT2i5Ie0S9oW+AMCqAMCqAMCqAMCqAMNoL6hHtBR0RVABhVABhVABhVABhQtsFSTC1zKP7Ln71CG3W8/Ry7AvqgUPxBmTKPDdZ5RO285qMnNd9Apa7zZus8olMmedsnxcF4gKkKzzDhKvNJpbTFZ6xmux6C+ASlozPW+JzzSbKTLhq/bwIEBUgU+ZTYHzSuhwG44v0Epcmq/xCkPlMyHsHOgUYX+SRTIVvASgBeL417rNsmad6WnxIiAkwvsgjTPgRwLMHQuf2m7ifvcdjAdJMe91MOqi2X2fv8VgyhQoz3jowNOUS7owv8kjwlYeLmADHBnEDwLgpvsP4rdv8qWUeBfCSR2izOk2b7Tf2h7FJwL4h1fgzKXzpt96oEBEgXeEZj7/GpzQSjNcfvUp/dsthMmBmVA7eW5ugbWIUAfxlSFeU8oPYBThQ9zsg4EqtQFVT/F8MBgynUwAAWCnQKggfGfMJ+UGsAkys8TATSuis+wAAJny/kqdA5cDGgJ9Sz9FNBm4ZwimXUDr+Ez8X5PlhEasAiQbmAbxiCG/s7cKmDHgacNPnDOAkMQvggSF8fHAANy3W0DexCeBX910HxfWztBUkVzcDfpinx93mrmRpx3EPjx/EIoBf3Qdhdm2aakHz2RiwF7XTtMaMK8YBMfpB5AL41X0Ad+o5+toqqaUBe7FaoK8AfGMIx+YHkQvg7OJzmOv+A0riknVS8hbA8an/HWmSuIzufjBvuzRbIhXgVJnfBXDBEG64Dt5cydKObV6GtwB7XXZAXrT5gWkNF9IVfsd2fTaIN+Ns6ceADyORCtCqs7cN4ZTj4rtMjYdscvbagvYiU+Mh10EJgGkNt639yZLI3wB3EB8AeGgIn+Q9y313Dy1oE7yHGwBOGsKPdvcxa5vTlsgFCNCHOW9TZ3s5AXvR8qe3DeGGwyj69aPCIBYPaPVhPjYOYMxPLHM2YLqeTsDtZO/zBBGuGwcQPgzUjwqB2Ey4nqMFInxrCKccFyW/vnwYBtxW903nklI9RwtBcoVBrLugZgqzMPvBWHIQXX/wfk/AAODuYR7d6779uaQPYhXAzw+I8UZmid8zJujzBJyu8CUCLhrCsdX9dmI/B/j5AQPXTX2Yfgy41Y/61DggxrrfjshBzM8PmoQfDH2Yngw4QD8q1rrfjthJ+MkuLgNYN8WHCC+2X3cx4Md+BjywjVE2fwlt/e8GzGUvYsQEWD9LW8R4DZ1+cPcYUKidoY32m10M2Lf81M7QBg9iGtxh8g2HcT7o5xBRINoLOuAHW8y4WM9TsZKnPzoG92nAaxO0XS/Q+wCKAH4HIFb32xFvxtVztECMa4kEcqsFMvlCaC3oep7uJhI4TYxrUnW/nUPx5dyVAs35jQmrBQ0AP0/RLwB8nxkHh0KAINTzNCq9higQL0H/d1QAYVQAYVQAYVQAYfT/BQmjb4AwKoAwKoAwKoAwKoCiKIqiKIqiKIqiKIqiKIqiHH3+ARw90MK30gxuAAAAAElFTkSuQmCC\" // NO-PIG\n          />\n          <span class=\"bmenu-title\">Analysis</span>\n          <div class=\"status-icon\"></div>\n        </div>\n      `);\n    $('#analysis-form').on('submit', function (e) {\n        e.preventDefault();\n        analysisFormSubmit();\n    });\n    $('#analysis-bpt').on('submit', function (e) {\n        e.preventDefault();\n        analysisBptSumbit();\n    });\n    $('#findCsoBtn').on('click', () => {\n        $('#loading-screen').fadeIn(1000, findCsoBtnClick);\n    });\n    $('#analysis-menu').resizable({\n        handles: 'e',\n        stop: function () {\n            $(this).css('height', '');\n        },\n        maxWidth: 450,\n        minWidth: 280,\n    });\n};\nexport const analysisFormSubmit = () => {\n    const { sensorManager } = keepTrackApi.programs;\n    const chartType = $('#anal-type').val();\n    const sat = $('#anal-sat').val();\n    const sensor = sensorManager.currentSensor[0].shortName;\n    if (typeof sensor == 'undefined') {\n        $.colorbox({\n            href: `analysis/index.html?sat=${sat}&type=${chartType}`,\n            iframe: true,\n            width: '60%',\n            height: '60%',\n            fastIframe: false,\n            closeButton: false,\n        });\n    }\n    else {\n        $.colorbox({\n            href: `analysis/index.html?sat=${sat}&type=${chartType}&sensor=${sensor}`,\n            iframe: true,\n            width: '60%',\n            height: '60%',\n            fastIframe: false,\n            closeButton: false,\n        });\n    }\n};\nexport const findCsoBtnClick = () => {\n    const { satellite, uiManager } = keepTrackApi.programs;\n    const searchStr = satellite.findCloseObjects();\n    uiManager.doSearch(searchStr);\n    $('#loading-screen').fadeOut('slow');\n};\nexport const analysisBptSumbit = () => {\n    const { satellite, sensorManager, uiManager } = keepTrackApi.programs;\n    const sats = $('#analysis-bpt-sats').val();\n    if (!sensorManager.checkSensorSelected()) {\n        uiManager.toast(`You must select a sensor first!`, 'critical');\n    }\n    else {\n        satellite.findBestPasses(sats, sensorManager.selectedSensor);\n    }\n};\n"],"names":[],"sourceRoot":""}