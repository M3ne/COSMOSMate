{"version":3,"file":"src_js_plugins_astronomy_astronomy_ts.efacb2d71d739f25f260.js","mappings":";;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACwD;AACjC;AACyC;AACzD;AACP;AACA,IAAI,6CAAC,yBAAyB,uEAAiB;AAC/C;AACA;AACA;AACA;AACA,0BAA0B,6DAAgB,CAAC;AAC3C;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,IAAI,2EAAqB;AACzB;AACA;AACA;AACA,KAAK;AACL,IAAI,qFAA+B;AACnC,IAAI,qGAA+C;AACnD;AACA,IAAI,2EAAqB;AACzB;AACA;AACA;AACA,KAAK;AACL;AACO;AACP,YAAY,kFAAkF,EAAE,2EAAqB;AACrH;AACA,2BAA2B,sFAAgC;AAC3D,YAAY,qGAA+C;AAC3D,YAAY,qGAA+C;AAC3D;AACA;AACA;AACA;AACA;AACA,2EAA2E;AAC3E;AACA;AACA;AACA;AACA,YAAY,6CAAC;AACb,YAAY,6CAAC;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAiF;AACjF,gBAAgB,6CAAC;AACjB;AACA,2BAA2B,uFAAiC;AAC5D,oBAAoB,yGAAmD;AACvE,oBAAoB,6CAAC;AACrB;AACA,gBAAgB,qGAA+C;AAC/D,gBAAgB,6CAAC;AACjB;AACA;AACA;AACA,qBAAqB,6CAAC;AACtB,oBAAoB,6CAAC;AACrB;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA","sources":["webpack://keeptrack.space/./src/js/plugins/astronomy/astronomy.ts"],"sourcesContent":["/**\n * /////////////////////////////////////////////////////////////////////////////\n *\n * astronomy.ts is a plugin for showing the stars above from the perspective\n * of a view on the earth.\n *\n * http://keeptrack.space\n *\n * @Copyright (C) 2016-2022 Theodore Kruczek\n *\n * KeepTrack is free software: you can redistribute it and/or modify it under\n * the terms of the GNU General Public License as published by the Free Software\n * Foundation, either version 3 of the License, or (at your option) any later version.\n *\n * KeepTrack is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS\n * FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n * You should have received a copy of the GNU General Public License along with\n * KeepTrack. If not, see <http://www.gnu.org/licenses/>.\n *\n * TESTING: This plugin requires php to be installed on the server. It won't work\n * with the default http npm module.\n *\n * /////////////////////////////////////////////////////////////////////////////\n */\nimport { keepTrackApi } from '@app/js/api/keepTrackApi';\nimport $ from 'jquery';\nimport constellationPng from '@app/img/icons/constellation.png';\nexport const uiManagerInit = () => {\n    // Bottom Icon\n    $('#bottom-icons').append(keepTrackApi.html `\n        <div id=\"menu-astronomy\" class=\"bmenu-item bmenu-item-disabled\">\n          <img\n            alt=\"telescope\"\n            src=\"\"\n            delayedsrc=\"${constellationPng}\"\n          />\n          <span class=\"bmenu-title\">Astronomy View</span>\n          <div class=\"status-icon\"></div>\n        </div>\n      `);\n};\nexport const init = () => {\n    // Add HTML\n    keepTrackApi.register({\n        method: 'uiManagerInit',\n        cbName: 'astronomy',\n        cb: uiManagerInit,\n    });\n    keepTrackApi.programs.astronomy = {};\n    keepTrackApi.programs.astronomy.isAstronomyView = false;\n    // Add JavaScript\n    keepTrackApi.register({\n        method: 'bottomMenuClick',\n        cbName: 'astronomy',\n        cb: bottomMenuClick,\n    });\n};\nexport const bottomMenuClick = (iconName) => {\n    const { drawManager, starManager, objectManager, uiManager, orbitManager, sensorManager } = keepTrackApi.programs;\n    if (iconName === 'menu-astronomy') {\n        const mainCamera = keepTrackApi.programs.mainCamera;\n        if (keepTrackApi.programs.astronomy.isAstronomyView) {\n            keepTrackApi.programs.astronomy.isAstronomyView = false;\n            mainCamera.isPanReset = true;\n            mainCamera.isLocalRotateReset = true;\n            settingsManager.fieldOfView = 0.6;\n            drawManager.glInit();\n            uiManager.hideSideMenus();\n            mainCamera.cameraType.current = mainCamera.cameraType.Default; // Back to normal Camera Mode\n            uiManager.legendMenuChange('default');\n            if (objectManager.isStarManagerLoaded) {\n                starManager.clearConstellations();\n            }\n            $('#fov-text').html('');\n            $('#menu-astronomy').removeClass('bmenu-item-selected');\n            return;\n        }\n        else {\n            if (sensorManager.checkSensorSelected()) {\n                if (objectManager.isStarManagerLoaded) {\n                    // TODO: This takes way too long trying to find the star's\n                    // satellite id from its name. The ids should be predetermined.\n                    starManager.drawAllConstellations();\n                }\n                orbitManager.clearInViewOrbit();\n                mainCamera.cameraType.current = mainCamera.cameraType.Astronomy; // Activate Astronomy Camera Mode\n                $('#fov-text').html('FOV: ' + (settingsManager.fieldOfView * 100).toFixed(2) + ' deg');\n                uiManager.legendMenuChange('astronomy');\n                if (typeof keepTrackApi.programs.planetarium !== 'undefined') {\n                    keepTrackApi.programs.planetarium.isPlanetariumView = false;\n                    $('#menu-planetarium').removeClass('bmenu-item-selected');\n                }\n                keepTrackApi.programs.astronomy.isAstronomyView = true;\n                $('#menu-astronomy').addClass('bmenu-item-selected');\n            }\n            else {\n                uiManager.toast(`Select a Sensor First!`, 'caution');\n                if (!$('#menu-astronomy:animated').length) {\n                    $('#menu-astronomy').effect('shake', {\n                        distance: 10,\n                    });\n                }\n            }\n            return;\n        }\n    }\n};\n"],"names":[],"sourceRoot":""}