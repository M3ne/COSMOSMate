{"version":3,"file":"src_js_plugins_countries_countries_ts.de0020b43597e86381a8.js","mappings":";;;;;;;;;;;;;;;;;;;;;AAAwD;AACjC;AACvB;AACO;AACP,IAAI,6CAAC,sCAAsC,iCAAiC;AAC5E,IAAI,6CAAC;AACL;AACA;AACO;AACP;AACA,IAAI,2EAAqB;AACzB;AACA;AACA;AACA,KAAK;AACL;AACA,IAAI,2EAAqB;AACzB;AACA;AACA;AACA,KAAK;AACL,IAAI,2EAAqB;AACzB;AACA;AACA;AACA,KAAK;AACL;AACO;AACP,YAAY,YAAY,EAAE,2EAAqB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,6CAAC,sCAAsC,iCAAiC;AACpF;AACA,YAAY,6CAAC;AACb;AACA;AACA;AACA;AACO;AACP;AACA,IAAI,6CAAC,uBAAuB,uEAAiB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,6CAAC,yBAAyB,uEAAiB;AAC/C;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,6CAAC;AACL,yBAAyB,6CAAC;AAC1B,KAAK;AACL,IAAI,6CAAC;AACL;AACA;AACA,YAAY,6CAAC;AACb,SAAS;AACT;AACA;AACA,KAAK;AACL;AACO;AACP,YAAY,gBAAgB,EAAE,2EAAqB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,YAAY,6DAA6D,EAAE,2EAAqB;AAChG,sBAAsB,6CAAC;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE,IAAI,EAAE,gCAAgC;AAC9G;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA","sources":["webpack://keeptrack.space/./src/js/plugins/countries/countries.ts"],"sourcesContent":["import { keepTrackApi } from '@app/js/api/keepTrackApi';\nimport $ from 'jquery';\nlet isCountriesMenuOpen = false;\nexport const hideSideMenus = () => {\n    $('#countries-menu').effect('slide', { direction: 'left', mode: 'hide' }, 1000);\n    $('#menu-countries').removeClass('bmenu-item-selected');\n    isCountriesMenuOpen = false;\n};\nexport const init = () => {\n    // Add HTML\n    keepTrackApi.register({\n        method: 'uiManagerInit',\n        cbName: 'countries',\n        cb: uiManagerInit,\n    });\n    // Add JavaScript\n    keepTrackApi.register({\n        method: 'bottomMenuClick',\n        cbName: 'countries',\n        cb: bottomMenuClick,\n    });\n    keepTrackApi.register({\n        method: 'hideSideMenus',\n        cbName: 'countries',\n        cb: hideSideMenus,\n    });\n};\nexport const bottomMenuClick = (iconName) => {\n    const { uiManager } = keepTrackApi.programs;\n    if (iconName === 'menu-countries') {\n        if (isCountriesMenuOpen) {\n            uiManager.hideSideMenus();\n            isCountriesMenuOpen = false;\n            return;\n        }\n        else {\n            if (settingsManager.isMobileModeEnabled)\n                uiManager.searchToggle(false);\n            uiManager.hideSideMenus();\n            $('#countries-menu').effect('slide', { direction: 'left', mode: 'show' }, 1000);\n            isCountriesMenuOpen = true;\n            $('#menu-countries').addClass('bmenu-item-selected');\n            return;\n        }\n    }\n};\nexport const uiManagerInit = () => {\n    // Side Menu\n    $('#left-menus').append(keepTrackApi.html `\n        <div id=\"countries-menu\" class=\"side-menu-parent start-hidden text-select\">\n          <div id=\"country-menu\" class=\"side-menu\">\n            <ul>\n              <h5 class=\"center-align\">Countries</h5>\n              <li class=\"divider\"></li>\n              <li class=\"menu-selectable country-option\" data-group=\"Canada\">Canadian</li>\n              <li class=\"menu-selectable country-option\" data-group=\"China\">Chinese</li>\n              <li class=\"menu-selectable country-option\" data-group=\"France\">French</li>\n              <li class=\"menu-selectable country-option\" data-group=\"India\">Indian</li>\n              <li class=\"menu-selectable country-option\" data-group=\"Israel\">Israeli</li>\n              <li class=\"menu-selectable country-option\" data-group=\"Japan\">Japanese</li>\n              <li class=\"menu-selectable country-option\" data-group=\"Russia\">Russian / USSR</li>\n              <li class=\"menu-selectable country-option\" data-group=\"UnitedKingdom\">British</li>\n              <li class=\"menu-selectable country-option\" data-group=\"UnitedStates\">American</li>\n            </ul>\n          </div>\n        </div>\n      `);\n    // Bottom Icon\n    $('#bottom-icons').append(keepTrackApi.html `\n        <div id=\"menu-countries\" class=\"bmenu-item\">\n          <img\n            alt=\"flag\"\n            src=\"\"\n            delayedsrc=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAABc0lEQVR4nO3aT26CQBzF8QdOTO/gGdy1x+k52k1ddKW9Rf8cx523IQS6M0ZDCpMZH0O/n53kZ0J8GeQxSAAAAAAAAAAAAAAAIItqzND22Pe5T2SJTo/Vn79vfY8TwTACMIsJoFGvl1BrE2ptJL1KaozzRQsR39mdnqqPi8+H7bGXpL1pvmiTV0ArfV0f6zp9uuZLN3kFPNS3d05hrVXXeuYvjbnrmJvpK6DT8/Wxrr09dq/50sX0gEbSLtT6ls4/2Luk9cDXc8+flbgCFlXESgyAHmBGAGYpL0GNer2FlX6kkdf6vPN2Yy6JMUVsCAUtQrJLEAUtTrIAhgqUa74U6VYABS1K2j/hmRY0lzF/whQxM3qAGQGYsSNmxo6YGTtiZovaEZvb3VqW94IoXGktakdsbv5dEZsbXk0sAAEAAADAgCKWEUWsAARgRgBmBGBGAAAAADDgWVBGPAsqAAGYEYAZAZgRAAAAAAAAAAAAAAAAWKZfZIMQFE8x07MAAAAASUVORK5CYII=\" // NO-PIG\n          />\n          <span class=\"bmenu-title\">Countries</span>\n          <div class=\"status-icon\"></div>\n        </div>\n      `);\n    // NOTE: Must use function not arrow function to access 'this'\n    $('#country-menu>ul>li').on('click', function () {\n        countryMenuClick($(this).data('group'));\n    });\n    $('#countries-menu').resizable({\n        handles: 'e',\n        stop: function () {\n            $(this).css('height', '');\n        },\n        maxWidth: 450,\n        minWidth: 280,\n    });\n};\nexport const countryMenuClick = (groupName) => {\n    const { groupsManager } = keepTrackApi.programs;\n    switch (groupName) {\n        case 'Canada':\n            if (!groupsManager.Canada)\n                groupsManager.Canada = groupsManager.createGroup('countryRegex', /CA/u);\n            break;\n        case 'China':\n            if (!groupsManager.China)\n                groupsManager.China = groupsManager.createGroup('countryRegex', /PRC/u);\n            break;\n        case 'France':\n            if (!groupsManager.France)\n                groupsManager.France = groupsManager.createGroup('countryRegex', /FR/u);\n            break;\n        case 'India':\n            if (!groupsManager.India)\n                groupsManager.India = groupsManager.createGroup('countryRegex', /IND/u);\n            break;\n        case 'Israel':\n            if (!groupsManager.Israel)\n                groupsManager.Israel = groupsManager.createGroup('countryRegex', /ISRA/u);\n            break;\n        case 'Japan':\n            if (!groupsManager.Japan)\n                groupsManager.Japan = groupsManager.createGroup('countryRegex', /JPN/u);\n            break;\n        case 'Russia':\n            if (!groupsManager.Russia)\n                groupsManager.Russia = groupsManager.createGroup('countryRegex', /CIS/u);\n            break;\n        case 'UnitedKingdom':\n            if (!groupsManager.UnitedKingdom)\n                groupsManager.UnitedKingdom = groupsManager.createGroup('countryRegex', /UK/u);\n            break;\n        case 'UnitedStates':\n            if (!groupsManager.UnitedStates)\n                groupsManager.UnitedStates = groupsManager.createGroup('countryRegex', /US/u);\n            break;\n        default:\n            throw new Error('Unknown country group');\n    }\n    groupSelected(groupName);\n};\nexport const groupSelected = (groupName) => {\n    const { groupsManager, satSet, searchBox, objectManager, uiManager } = keepTrackApi.programs;\n    const searchDOM = $('#search');\n    if (typeof groupName == 'undefined')\n        return;\n    if (typeof groupsManager[groupName] == 'undefined')\n        return;\n    groupsManager.selectGroup(groupsManager[groupName]);\n    // Populate searchDOM with a search string separated by commas - minus the last one\n    searchDOM.val(groupsManager[groupName].sats.reduce((acc, obj) => `${acc}${satSet.getSat(obj.satId).sccNum},`, '').slice(0, -1));\n    searchBox.fillResultBox(groupsManager[groupName].sats, satSet);\n    objectManager.setSelectedSat(-1); // Clear selected sat\n    // Close Menus\n    if (settingsManager.isMobileModeEnabled)\n        uiManager.searchToggle(true);\n    uiManager.hideSideMenus();\n};\n"],"names":[],"sourceRoot":""}