{"version":3,"file":"src_js_plugins_core_ts.b7b5cda8324544a51006.js","mappings":";;;;;;;;;;;;;;;;;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACiD;AACjD;AACO;AACP,oEAAoE;AACpE;AACA;AACA,cAAc,gPAAqD;AACnE;AACA;AACA,kBAAkB,8RAAqC;AACvD;AACA;AACA,kBAAkB,4PAAyD;AAC3E;AACA;AACA,kBAAkB,wQAA6D;AAC/E;AACA,kBAAkB,4MAAyC;AAC3D;AACA,kBAAkB,kNAA2C;AAC7D;AACA,kBAAkB,sMAAuC;AACzD;AACA;AACA;AACA,kBAAkB,sPAAuD;AACzE;AACA,kBAAkB,sMAAuC;AACzD;AACA,kBAAkB,wNAA6C;AAC/D;AACA,kBAAkB,8NAA+C;AACjE;AACA,kBAAkB,4MAAyC;AAC3D;AACA,kBAAkB,oUAAyD;AAC3E;AACA,kBAAkB,4PAAyD;AAC3E;AACA,kBAAkB,8NAA+C;AACjE;AACA,kBAAkB,4MAAyC;AAC3D;AACA,kBAAkB,4MAAyC;AAC3D;AACA,kBAAkB,wNAA6C;AAC/D;AACA,kBAAkB,8NAA+C;AACjE;AACA,kBAAkB,0OAAmD;AACrE;AACA,kBAAkB,4MAAyC;AAC3D;AACA;AACA;AACA,qBAAqB,6DAAU;AAC/B;AACA;AACA,aAAa;AACb;AACA,kBAAkB,wNAA6C;AAC/D;AACA,kBAAkB,wNAA6C;AAC/D;AACA,kBAAkB,8NAA+C;AACjE;AACA,kBAAkB,gPAAqD;AACvE;AACA,kBAAkB,0OAAmD;AACrE;AACA,kBAAkB,oOAAiD;AACnE;AACA,kBAAkB,wNAA6C;AAC/D;AACA,kBAAkB,oOAAiD;AACnE;AACA,kBAAkB,0LAAmC;AACrD;AACA,kBAAkB,sPAAuD;AACzE;AACA,kBAAkB,wNAA6C;AAC/D;AACA,kBAAkB,8NAA+C;AACjE;AACA,kBAAkB,gMAAqC;AACvD;AACA,kBAAkB,sPAAuD;AACzE;AACA,kBAAkB,oOAAiD;AACnE;AACA,kBAAkB,0OAAmD;AACrE;AACA,kBAAkB,4PAAyD;AAC3E;AACA,kBAAkB,kNAA2C;AAC7D;AACA,kBAAkB,uXAAmD;AACrE;AACA,kBAAkB,4MAAyC;AAC3D;AACA,kBAAkB,4PAAyD;AAC3E;AACA,kBAAkB,0OAAmD;AACrE;AACA,kBAAkB,0OAAmD;AACrE;AACA,kBAAkB,sMAAuC;AACzD;AACA,kBAAkB,4MAAyC;AAC3D;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,CAAC;AACM;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,CAAC,gCAAgC,+BAA+B,IAAI,4BAA4B;AACpG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,CAAC;AACL,cAAc,CAAC;AACf;AACA,KAAK;AACL;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://keeptrack.space/./src/js/plugins/core.ts"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { isThisJest } from '../api/keepTrackApi';\n// Register all core modules\nexport const loadCorePlugins = (keepTrackApi, plugins) => __awaiter(void 0, void 0, void 0, function* () {\n    plugins !== null && plugins !== void 0 ? plugins : (plugins = {});\n    try {\n        // Register Catalog Loader\n        yield import('@app/js/plugins/catalogLoader/catalogLoader').then((mod) => mod.init());\n        // Load Debug Plugins\n        if (plugins.debug)\n            yield import('@app/js/plugins/debug/debug').then((mod) => mod.init());\n        // Register selectSatData\n        if (plugins.satInfoboxCore)\n            yield import('@app/js/plugins/selectSatManager/satInfoboxCore').then((mod) => mod.init());\n        // Update Select Box\n        if (plugins.updateSelectBoxCore)\n            yield import('@app/js/plugins/updateSelectBox/updateSelectBoxCore').then((mod) => mod.init());\n        if (plugins.topMenu)\n            yield import('@app/js/plugins/topMenu/topMenu').then((mod) => mod.init());\n        if (plugins.datetime)\n            yield import('@app/js/plugins/datetime/datetime').then((mod) => mod.init());\n        if (plugins.social)\n            yield import('@app/js/plugins/social/social').then((mod) => mod.init());\n        // UI Menu\n        // Load order determines menu order\n        if (plugins.classification)\n            yield import('@app/js/plugins/classification/classification').then((mod) => mod.init());\n        if (plugins.sensor)\n            yield import('@app/js/plugins/sensor/sensor').then((mod) => mod.init());\n        if (plugins.watchlist)\n            yield import('@app/js/plugins/watchlist/watchlist').then((mod) => mod.init());\n        if (plugins.nextLaunch)\n            yield import('@app/js/plugins/nextLaunch/nextLaunch').then((mod) => mod.init());\n        if (plugins.findSat)\n            yield import('@app/js/plugins/findSat/findSat').then((mod) => mod.init());\n        if (plugins.shortTermFences)\n            yield import('@app/js/plugins/shortTermFences/shortTermFences').then((mod) => mod.init());\n        if (plugins.orbitReferences)\n            yield import('@app/js/plugins/orbitReferences/orbitReferences').then((mod) => mod.init());\n        if (plugins.collisions)\n            yield import('@app/js/plugins/collisions/collisions').then((mod) => mod.init());\n        if (plugins.breakup)\n            yield import('@app/js/plugins/breakup/breakup').then((mod) => mod.init());\n        if (plugins.editSat)\n            yield import('@app/js/plugins/editSat/editSat').then((mod) => mod.init());\n        if (plugins.newLaunch)\n            yield import('@app/js/plugins/newLaunch/newLaunch').then((mod) => mod.init());\n        if (plugins.satChanges)\n            yield import('@app/js/plugins/satChanges/satChanges').then((mod) => mod.init());\n        if (plugins.initialOrbit)\n            yield import('@app/js/plugins/initialOrbit/initialOrbit').then((mod) => mod.init());\n        if (plugins.missile)\n            yield import('@app/js/plugins/missile/missile')\n                .then((mod) => mod.init())\n                .catch((err) => {\n                // If this fails and it isn't jest then throw an error\n                if (!isThisJest()) {\n                    console.debug(err);\n                }\n            });\n        if (plugins.stereoMap)\n            yield import('@app/js/plugins/stereoMap/stereoMap').then((mod) => mod.init());\n        if (plugins.sensorFov)\n            yield import('@app/js/plugins/sensorFov/sensorFov').then((mod) => mod.init());\n        if (plugins.sensorSurv)\n            yield import('@app/js/plugins/sensorSurv/sensorSurv').then((mod) => mod.init());\n        if (plugins.satelliteView)\n            yield import('@app/js/plugins/satelliteView/satelliteView').then((mod) => mod.init());\n        if (plugins.satelliteFov)\n            yield import('@app/js/plugins/satelliteFov/satelliteFov').then((mod) => mod.init());\n        if (plugins.planetarium)\n            yield import('@app/js/plugins/planetarium/planetarium').then((mod) => mod.init());\n        if (plugins.astronomy)\n            yield import('@app/js/plugins/astronomy/astronomy').then((mod) => mod.init());\n        if (plugins.nightToggle)\n            yield import('@app/js/plugins/nightToggle/nightToggle').then((mod) => mod.init());\n        if (plugins.dops)\n            yield import('@app/js/plugins/dops/dops').then((mod) => mod.init());\n        if (plugins.constellations)\n            yield import('@app/js/plugins/constellations/constellations').then((mod) => mod.init());\n        if (plugins.countries)\n            yield import('@app/js/plugins/countries/countries').then((mod) => mod.init());\n        if (plugins.colorsMenu)\n            yield import('@app/js/plugins/colorsMenu/colorsMenu').then((mod) => mod.init());\n        if (plugins.photo)\n            yield import('@app/js/plugins/photo/photo').then((mod) => mod.init());\n        if (plugins.launchCalendar)\n            yield import('@app/js/plugins/launchCalendar/launchCalendar').then((mod) => mod.init());\n        if (plugins.timeMachine)\n            yield import('@app/js/plugins/timeMachine/timeMachine').then((mod) => mod.init());\n        if (plugins.photoManager)\n            yield import('@app/js/plugins/photoManager/photoManager').then((mod) => mod.init());\n        if (plugins.recorderManager)\n            yield import('@app/js/plugins/recorderManager/recorderManager').then((mod) => mod.init());\n        if (plugins.analysis)\n            yield import('@app/js/plugins/analysis/analysis').then((mod) => mod.init());\n        if (plugins.plotAnalysis)\n            yield import('@app/js/plugins/plotAnalysis/plotAnalysis').then((mod) => mod.init());\n        if (plugins.twitter)\n            yield import('@app/js/plugins/twitter/twitter').then((mod) => mod.init());\n        if (plugins.externalSources)\n            yield import('@app/js/plugins/externalSources/externalSources').then((mod) => mod.init());\n        if (plugins.aboutManager)\n            yield import('@app/js/plugins/aboutManager/aboutManager').then((mod) => mod.init());\n        if (plugins.settingsMenu)\n            yield import('@app/js/plugins/settingsMenu/settingsMenu').then((mod) => mod.init());\n        if (plugins.soundManager)\n            yield import('@app/js/plugins/sounds/sounds').then((mod) => mod.init());\n        if (plugins.gamepad)\n            yield import('@app/js/plugins/gamepad/gamepad').then((mod) => mod.init());\n        keepTrackApi.register({\n            method: 'uiManagerFinal',\n            cbName: 'core',\n            cb: function () {\n                uiManagerFinal(plugins);\n            },\n        });\n    }\n    catch (e) {\n        console.debug(e);\n    }\n});\nexport const uiManagerFinal = (plugins) => {\n    const bicDom = document.getElementById('bottom-icons-container');\n    if (bicDom) {\n        const bottomHeight = bicDom.offsetHeight;\n        document.documentElement.style.setProperty('--bottom-menu-height', bottomHeight + 'px');\n    }\n    else {\n        document.documentElement.style.setProperty('--bottom-menu-height', '0px');\n    }\n    if (plugins.topMenu) {\n        let topMenuHeight = parseInt(document.documentElement.style.getPropertyValue('--top-menu-height').replace('px', ''));\n        if (isNaN(topMenuHeight))\n            topMenuHeight = 0;\n        document.documentElement.style.setProperty('--top-menu-height', topMenuHeight + 22 + 'px');\n    }\n    if (document.getElementById('bottom-icons') && document.getElementById('bottom-icons').innerText == '') {\n        document.getElementById('nav-footer').style.visibility = 'hidden';\n    }\n    const bottomContainer = document.getElementById('bottom-icons-container');\n    if (bottomContainer) {\n        const bottomHeight = bottomContainer.offsetHeight;\n        document.documentElement.style.setProperty('--bottom-menu-top', bottomHeight + 'px');\n    }\n    $('#versionNumber-text').html(`${settingsManager.versionNumber} - ${settingsManager.versionDate}`);\n    // Only turn on analytics if on keeptrack.space ()\n    if (window.location.hostname === 'keeptrack.space' || window.location.hostname === 'www.keeptrack.space') {\n        startGoogleAnalytics();\n    }\n    const wheel = (dom, deltaY) => {\n        const step = 0.15;\n        const pos = dom.scrollTop();\n        const nextPos = pos + step * deltaY;\n        dom.scrollTop(nextPos);\n    };\n    $('#bottom-icons-container').bind('mousewheel', function (event) {\n        wheel($(this), event.originalEvent.deltaY);\n        event.preventDefault();\n    });\n};\n/* istanbul ignore next */\nexport const startGoogleAnalytics = () => {\n    const newScript = document.createElement('script');\n    newScript.type = 'text/javascript';\n    newScript.setAttribute('async', 'true');\n    newScript.setAttribute('src', 'https://www.googletagmanager.com/gtag/js?id=G-ENHWK6L0X7');\n    document.documentElement.firstChild.appendChild(newScript);\n    window.dataLayer = window.dataLayer || [];\n    // eslint-disable-next-line no-unused-vars\n    const gtag = function (_a, _b) {\n        // eslint-disable-next-line prefer-rest-params\n        window.dataLayer.push(arguments);\n    };\n    gtag('js', new Date());\n    gtag('config', 'G-ENHWK6L0X7');\n};\n"],"names":[],"sourceRoot":""}