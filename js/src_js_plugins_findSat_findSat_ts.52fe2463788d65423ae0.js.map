{"version":3,"file":"src_js_plugins_findSat_findSat_ts.52fe2463788d65423ae0.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAuB;AAC+B;AACR;AAC9C;AACO;AACP,sEAAsE,mDAAO,iCAAiC,mDAAO;AACrH;AACA;AACO;AACP,+DAA+D,mDAAO,0BAA0B,mDAAO;AACvG;AACA;AACO;AACP,gEAAgE,mDAAO,2BAA2B,mDAAO;AACzG;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,+BAA+B,EAAE,oEAAqB;AAClE;AACA;AACA;AACA;AACA;AACA,6CAA6C,UAAU,kEAAkE;AACzH,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA,YAAY,6CAAC,gBAAgB,6CAAC;AAC9B;AACA;AACA,YAAY,6CAAC,gBAAgB,6CAAC;AAC9B;AACA;AACA;AACA,uBAAuB,6CAAC;AACxB;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP,YAAY,qFAAqF,EAAE,oEAAqB;AACxH,gBAAgB,6CAAC;AACjB;AACA;AACA,qBAAqB,6CAAC;AACtB,sBAAsB,6CAAC;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B,uGAAuG;AACvG;AACA,8BAA8B;AAC9B,2EAA2E;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,6CAAC;AACL;AACO;AACP;AACA,IAAI,6CAAC,uBAAuB,gEAAiB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,6CAAC;AACL,QAAQ,6CAAC;AACT,KAAK;AACL,IAAI,6CAAC;AACL,QAAQ,6CAAC;AACT;AACA,KAAK;AACL;AACA,IAAI,6CAAC;AACL;AACA;AACA,YAAY,6CAAC;AACb,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,IAAI,6CAAC,yBAAyB,gEAAiB;AAC/C;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA,IAAI,6CAAC;AACL;AACA;AACA,KAAK;AACL;AACO;AACP;AACA,gBAAgB,YAAY,EAAE,oEAAqB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,6CAAC,wCAAwC,iCAAiC;AACtF;AACA,YAAY,6CAAC;AACb;AACA;AACA;AACA;AACO;AACP,IAAI,6CAAC,wCAAwC,iCAAiC;AAC9E,IAAI,6CAAC;AACL;AACA;AACO;AACP;AACA,IAAI,oEAAqB;AACzB;AACA;AACA;AACA,KAAK;AACL;AACA,IAAI,oEAAqB;AACzB;AACA;AACA;AACA,KAAK;AACL,IAAI,oEAAqB;AACzB;AACA;AACA;AACA,KAAK;AACL;AACO;AACP,kCAAkC,6CAAC;AACnC,oCAAoC,6CAAC;AACrC,gCAAgC,6CAAC;AACjC,8BAA8B,6CAAC;AAC/B,iCAAiC,6CAAC;AAClC,8BAA8B,6CAAC;AAC/B,mCAAmC,6CAAC;AACpC,qCAAqC,6CAAC;AACtC,iCAAiC,6CAAC;AAClC,+BAA+B,6CAAC;AAChC,kCAAkC,6CAAC;AACnC,+BAA+B,6CAAC;AAChC,6BAA6B,6CAAC;AAC9B,+BAA+B,6CAAC;AAChC,gCAAgC,6CAAC;AACjC,gCAAgC,6CAAC;AACjC,iCAAiC,6CAAC;AAClC,IAAI,6CAAC,qBAAqB;AAC1B,YAAY,YAAY,EAAE,oEAAqB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,YAAY,YAAY,EAAE,oEAAqB;AAC/C;AACA;AACA;AACA;AACA","sources":["webpack://keeptrack.space/./src/js/plugins/findSat/findSat.ts"],"sourcesContent":["import $ from 'jquery';\nimport { keepTrackApi } from '../../api/keepTrackApi';\nimport { RAD2DEG } from '../../lib/constants';\nlet isFindByLooksMenuOpen = false;\nexport const checkInc = (possibles, min, max) => {\n    possibles = possibles.filter((possible) => possible.inclination * RAD2DEG < max && possible.inclination * RAD2DEG > min);\n    return possibles;\n};\nexport const checkRaan = (possibles, min, max) => {\n    possibles = possibles.filter((possible) => possible.raan * RAD2DEG < max && possible.raan * RAD2DEG > min);\n    return possibles;\n};\nexport const checkArgPe = (possibles, min, max) => {\n    possibles = possibles.filter((possible) => possible.argPe * RAD2DEG < max && possible.argPe * RAD2DEG > min);\n    return possibles;\n};\nexport const checkPeriod = (possibles, minPeriod, maxPeriod) => {\n    possibles = possibles.filter((possible) => possible.period > minPeriod && possible.period < maxPeriod);\n    return limitPossibles(possibles, 200);\n};\nexport const checkRcs = (possibles, minRcs, maxRcs) => {\n    possibles = possibles.filter((possible) => parseFloat(possible.R) > minRcs && parseFloat(possible.R) < maxRcs);\n    return limitPossibles(possibles, 200);\n};\nexport const searchSats = (azimuth, elevation, range, inclination, azMarg, elMarg, rangeMarg, incMarg, period, periodMarg, rcs, rcsMarg, objtype, raan, raanMarg, argPe, argPeMarg) => {\n    const isValidAz = !isNaN(azimuth) && isFinite(azimuth);\n    const isValidEl = !isNaN(elevation) && isFinite(elevation);\n    const isValidRange = !isNaN(range) && isFinite(range);\n    const isValidInc = !isNaN(inclination) && isFinite(inclination);\n    const isValidRaan = !isNaN(raan) && isFinite(raan);\n    const isValidArgPe = !isNaN(argPe) && isFinite(argPe);\n    const isValidPeriod = !isNaN(period) && isFinite(period);\n    const isValidRcs = !isNaN(rcs) && isFinite(rcs);\n    azMarg = !isNaN(azMarg) && isFinite(azMarg) ? azMarg : 5;\n    elMarg = !isNaN(elMarg) && isFinite(elMarg) ? elMarg : 5;\n    rangeMarg = !isNaN(rangeMarg) && isFinite(rangeMarg) ? rangeMarg : 200;\n    incMarg = !isNaN(incMarg) && isFinite(incMarg) ? incMarg : 1;\n    periodMarg = !isNaN(periodMarg) && isFinite(periodMarg) ? periodMarg : 0.5;\n    rcsMarg = !isNaN(rcsMarg) && isFinite(rcsMarg) ? rcsMarg : rcs / 10;\n    raanMarg = !isNaN(raanMarg) && isFinite(raanMarg) ? raanMarg : 1;\n    argPeMarg = !isNaN(argPeMarg) && isFinite(argPeMarg) ? argPeMarg : 1;\n    if (!isValidEl && !isValidRange && !isValidAz && !isValidInc && !isValidPeriod && !isValidRcs && !isValidArgPe && !isValidRaan)\n        throw new Error('No Search Criteria Entered');\n    const { satSet, satellite, uiManager } = keepTrackApi.programs;\n    const satData = satSet.satData;\n    let res = satData\n        .filter((sat) => !sat.static && !sat.missile && sat.active)\n        .map((sat) => {\n        const tearr = satellite.getTEARR(sat);\n        return Object.assign(Object.assign({}, sat), { az: tearr.az, el: tearr.el, rng: tearr.rng, inView: tearr.inView });\n    });\n    res = !isValidInc && !isValidPeriod ? checkInview(res) : res;\n    res = objtype !== 0 ? checkObjtype(res, objtype) : res;\n    if (isValidAz) {\n        const minaz = azimuth - azMarg;\n        const maxaz = azimuth + azMarg;\n        res = checkAz(res, minaz, maxaz);\n    }\n    if (isValidEl) {\n        const minel = elevation - elMarg;\n        const maxel = elevation + elMarg;\n        res = checkEl(res, minel, maxel);\n    }\n    if (isValidRange) {\n        const minrange = range - rangeMarg;\n        const maxrange = range + rangeMarg;\n        res = checkRange(res, minrange, maxrange);\n    }\n    if (isValidInc) {\n        const minInc = inclination - incMarg;\n        const maxInc = inclination + incMarg;\n        res = checkInc(res, minInc, maxInc);\n    }\n    if (isValidRaan) {\n        const minRaan = raan - raanMarg;\n        const maxRaan = raan + raanMarg;\n        res = checkRaan(res, minRaan, maxRaan);\n    }\n    if (isValidArgPe) {\n        const minArgPe = argPe - argPeMarg;\n        const maxArgPe = argPe + argPeMarg;\n        res = checkArgPe(res, minArgPe, maxArgPe);\n    }\n    if (isValidPeriod) {\n        const minPeriod = period - periodMarg;\n        const maxPeriod = period + periodMarg;\n        res = checkPeriod(res, minPeriod, maxPeriod);\n    }\n    if (isValidRcs) {\n        const minRcs = rcs - rcsMarg;\n        const maxRcs = rcs + rcsMarg;\n        res = checkRcs(res, minRcs, maxRcs);\n    }\n    // $('#findByLooks-results').text('');\n    // IDEA: Intentionally doesn't clear previous searches. Could be an option later.\n    const sccList = [];\n    for (let i = 0; i < res.length; i++) {\n        // $('#findByLooks-results').append(res[i].sccNum + '<br />');\n        if (i < res.length - 1) {\n            $('#search').val($('#search').val() + res[i].sccNum + ',');\n        }\n        else {\n            $('#search').val($('#search').val() + res[i].sccNum);\n        }\n        sccList.push(res[i].sccNum);\n    }\n    uiManager.doSearch($('#search').val());\n    // console.log(sccList);\n    return res;\n};\nexport const checkInview = (possibles) => {\n    possibles = possibles.filter((possible) => possible.inView);\n    return possibles;\n};\nexport const checkObjtype = (possibles, objtype) => {\n    possibles = possibles.filter((possible) => possible.OT === objtype);\n    return possibles;\n};\nexport const checkAz = (possibles, minaz, maxaz) => {\n    possibles = possibles.filter((possible) => possible.az >= minaz && possible.az <= maxaz);\n    return possibles;\n};\nexport const checkEl = (possibles, minel, maxel) => {\n    possibles = possibles.filter((possible) => possible.el >= minel && possible.el <= maxel);\n    return possibles;\n};\nexport const checkRange = (possibles, minrange, maxrange) => {\n    possibles = possibles.filter((possible) => possible.rng >= minrange && possible.rng <= maxrange);\n    return possibles;\n};\nexport const newLaunchSubmit = () => {\n    const { timeManager, mainCamera, satellite, satSet, orbitManager, uiManager, objectManager } = keepTrackApi.programs;\n    const scc = $('#nl-scc').val();\n    const satId = satSet.getIdFromObjNum(scc);\n    let sat = satSet.getSat(satId);\n    const upOrDown = $('#nl-updown').val();\n    const launchFac = $('#nl-facility').val();\n    let launchLat, launchLon;\n    if (objectManager.isLaunchSiteManagerLoaded) {\n        for (const launchSite in objectManager.launchSiteManager.launchSiteList) {\n            if (objectManager.launchSiteManager.launchSiteList[launchSite].name === launchFac) {\n                launchLat = objectManager.launchSiteManager.launchSiteList[launchSite].lat;\n                launchLon = objectManager.launchSiteManager.launchSiteList[launchSite].lon;\n            }\n        }\n    }\n    if (launchLon > 180) {\n        // if West not East\n        launchLon -= 360; // Convert from 0-360 to -180-180\n    }\n    // if (sat.inclination * RAD2DEG < launchLat) {\n    //   uiManager.toast(`Satellite Inclination Lower than Launch Latitude!`, 'critical');\n    //   $('#loading-screen').fadeOut('slow');\n    //   return;\n    // }\n    // Set time to 0000z for relative time.\n    const today = new Date(); // Need to know today for offset calculation\n    const quadZTime = new Date(today.getFullYear(), today.getUTCMonth(), today.getUTCDate(), 0, 0, 0); // New Date object of the future collision\n    // Date object defaults to local time.\n    quadZTime.setUTCHours(0); // Move to UTC Hour\n    timeManager.changeStaticOffset(quadZTime.getTime() - today.getTime()); // Find the offset from today\n    mainCamera.isCamSnapMode = false;\n    const simulationTimeObj = timeManager.calculateSimulationTime();\n    const TLEs = satellite.getOrbitByLatLon(sat, launchLat, launchLon, upOrDown, simulationTimeObj);\n    const TLE1 = TLEs[0];\n    const TLE2 = TLEs[1];\n    if (satellite.altitudeCheck(TLE1, TLE2, timeManager.calculateSimulationTime()) > 1) {\n        satSet.satCruncher.postMessage({\n            typ: 'satEdit',\n            id: satId,\n            active: true,\n            TLE1: TLE1,\n            TLE2: TLE2,\n        });\n        orbitManager.updateOrbitBuffer(satId, true, TLE1, TLE2);\n        sat = satSet.getSat(satId);\n    }\n    else {\n        uiManager.toast(`Failed Altitude Test - Try a Different Satellite!`, 'critical');\n    }\n    $('#loading-screen').fadeOut('slow');\n};\nexport const uiManagerInit = () => {\n    // Side Menu\n    $('#left-menus').append(keepTrackApi.html `\n        <div id=\"findByLooks-menu\" class=\"side-menu-parent start-hidden text-select\">\n          <div id=\"findByLooks-content\" class=\"side-menu\">\n            <div class=\"row\">\n              <h5 class=\"center-align\">Find By Looks</h5>\n              <form id=\"findByLooks\">\n                <div class=\"row\">\n                  <div class=\"input-field col s12\">\n                    <select value=0 id=\"fbl-type\" type=\"text\">\n                      <option value=0>All</option>\n                      <option value=1>Payload</option>\n                      <option value=2>Rocket Body</option>\n                      <option value=3>Debris</option>\n                    </select>\n                    <label for=\"disabled\">Object Type</label>\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <div class=\"input-field col s12 m6 l6\">\n                    <input placeholder=\"xxx.x\" id=\"fbl-azimuth\" type=\"text\">\n                    <label for=\"fbl-azimuth\" class=\"active\">Azimuth</label>\n                  </div>\n                  <div class=\"input-field col s12 m6 l6\">\n                    <input placeholder=\"5\" id=\"fbl-azimuth-margin\" type=\"text\">\n                    <label for=\"fbl-azimuth-margin \"class=\"active\">Margin</label>\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <div class=\"input-field col s12 m6 l6\">\n                    <input placeholder=\"XX.X\" id=\"fbl-elevation\" type=\"text\">\n                    <label for=\"fbl-elevation \"class=\"active\">Elevation</label>\n                  </div>\n                  <div class=\"input-field col s12 m6 l6\">\n                    <input placeholder=\"5\" id=\"fbl-elevation-margin\" type=\"text\">\n                    <label for=\"fbl-elevation-margin \"class=\"active\">Margin</label>\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <div class=\"input-field col s12 m6 l6\">\n                    <input placeholder=\"xxxx.x\" id=\"fbl-range\" type=\"text\">\n                    <label for=\"fbl-range \"class=\"active\">Range</label>\n                  </div>\n                  <div class=\"input-field col s12 m6 l6\">\n                    <input placeholder=\"500\" id=\"fbl-range-margin\" type=\"text\">\n                    <label for=\"fbl-range-margin \"class=\"active\">Margin</label>\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <div class=\"input-field col s12 m6 l6\">\n                    <input placeholder=\"XX.X\" id=\"fbl-inc\" type=\"text\">\n                    <label for=\"fbl-inc \"class=\"active\">Inclination</label>\n                  </div>\n                  <div class=\"input-field col s12 m6 l6\">\n                    <input value=\"0.5\" placeholder=\"0.5\" id=\"fbl-inc-margin\" type=\"text\">\n                    <label for=\"fbl-inc-margin \"class=\"active\">Margin</label>\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <div class=\"input-field col s12 m6 l6\">\n                    <input placeholder=\"XX.X\" id=\"fbl-period\" type=\"text\">\n                    <label for=\"fbl-period \"class=\"active\">Period</label>\n                  </div>\n                  <div class=\"input-field col s12 m6 l6\">\n                    <input value=\"10\" placeholder=\"10\" id=\"fbl-period-margin\" type=\"text\">\n                    <label for=\"fbl-period-margin \"class=\"active\">Margin</label>\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <div class=\"input-field col s12 m6 l6\">\n                    <input placeholder=\"XX.X\" id=\"fbl-rcs\" type=\"text\">\n                    <label for=\"fbl-rcs \"class=\"active\">RCS</label>\n                  </div>\n                  <div class=\"input-field col s12 m6 l6\">\n                    <input value=\"10\" placeholder=\"10\" id=\"fbl-rcs-margin\" type=\"text\">\n                    <label for=\"fbl-rcs-margin \"class=\"active\">Margin</label>\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <div class=\"input-field col s12 m6 l6\">\n                    <input placeholder=\"XX.X\" id=\"fbl-raan\" type=\"text\">\n                    <label for=\"fbl-raan \"class=\"active\">Right Ascension</label>\n                  </div>\n                  <div class=\"input-field col s12 m6 l6\">\n                    <input value=\"0.5\" placeholder=\"0.5\" id=\"fbl-raan-margin\" type=\"text\">\n                    <label for=\"fbl-raan-margin \"class=\"active\">Margin</label>\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <div class=\"input-field col s12 m6 l6\">\n                    <input placeholder=\"XX.X\" id=\"fbl-argPe\" type=\"text\">\n                    <label for=\"fbl-argPe \"class=\"active\">Arg of Perigee</label>\n                  </div>\n                  <div class=\"input-field col s12 m6 l6\">\n                    <input value=\"0.5\" placeholder=\"0.5\" id=\"fbl-argPe-margin\" type=\"text\">\n                    <label for=\"fbl-argPe-margin \"class=\"active\">Margin</label>\n                  </div>\n                </div>\n                <div class=\"center-align\">\n                  <button id=\"findByLooks-submit\" class=\"btn btn-ui waves-effect waves-light\" type=\"submit\"\n                    name=\"action\">Find Satellite(s) &#9658;\n                  </button>\n                </div>\n              </form>\n              <div class=\"row center-align\" style=\"margin-top:20px;\">\n                <span id=\"fbl-error\" class=\"menu-selectable\"></span>\n              </div>\n            </div>\n          </div>\n        </div>\n      `);\n    $('#fbl-error').on('click', function () {\n        $('#fbl-error').hide();\n    });\n    $('#newLaunch').on('submit', function (e) {\n        $('#loading-screen').fadeIn(1000, newLaunchSubmit);\n        e.preventDefault();\n    });\n    // Allow resizing of the side menu\n    $('#newLaunch-menu').resizable({\n        handles: 'e',\n        stop: function () {\n            $(this).css('height', '');\n        },\n        maxWidth: 450,\n        minWidth: 280,\n    });\n    // Bottom Icon\n    $('#bottom-icons').append(keepTrackApi.html `\n        <div id=\"menu-find-sat\" class=\"bmenu-item\">\n          <img alt=\"find2\" src=\"data:image/png;base64,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\">\n          <span class=\"bmenu-title\">Find Satellite</span>\n          <div class=\"status-icon\"></div>\n        </div>     \n      `);\n    $('#findByLooks').on('submit', function (e) {\n        findByLooksSubmit();\n        e.preventDefault();\n    });\n};\nexport const bottomMenuClick = (iconName) => {\n    if (iconName === 'menu-find-sat') {\n        const { uiManager } = keepTrackApi.programs;\n        if (isFindByLooksMenuOpen) {\n            isFindByLooksMenuOpen = false;\n            uiManager.hideSideMenus();\n            return;\n        }\n        else {\n            if (settingsManager.isMobileModeEnabled)\n                uiManager.searchToggle(false);\n            uiManager.hideSideMenus();\n            $('#findByLooks-menu').effect('slide', { direction: 'left', mode: 'show' }, 1000);\n            isFindByLooksMenuOpen = true;\n            $('#menu-find-sat').addClass('bmenu-item-selected');\n            return;\n        }\n    }\n};\nexport const hideSideMenus = () => {\n    $('#findByLooks-menu').effect('slide', { direction: 'left', mode: 'hide' }, 1000);\n    $('#menu-find-sat').removeClass('bmenu-item-selected');\n    isFindByLooksMenuOpen = false;\n};\nexport const init = () => {\n    // Add HTML\n    keepTrackApi.register({\n        method: 'uiManagerInit',\n        cbName: 'findSat',\n        cb: uiManagerInit,\n    });\n    // Add JavaScript\n    keepTrackApi.register({\n        method: 'bottomMenuClick',\n        cbName: 'findSat',\n        cb: bottomMenuClick,\n    });\n    keepTrackApi.register({\n        method: 'hideSideMenus',\n        cbName: 'findSat',\n        cb: hideSideMenus,\n    });\n};\nexport const findByLooksSubmit = () => {\n    const fblAzimuth = parseFloat($('#fbl-azimuth').val());\n    const fblElevation = parseFloat($('#fbl-elevation').val());\n    const fblRange = parseFloat($('#fbl-range').val());\n    const fblInc = parseFloat($('#fbl-inc').val());\n    const fblPeriod = parseFloat($('#fbl-period').val());\n    const fblRcs = parseFloat($('#fbl-rcs').val());\n    const fblAzimuthM = parseFloat($('#fbl-azimuth-margin').val());\n    const fblElevationM = parseFloat($('#fbl-elevation-margin').val());\n    const fblRangeM = parseFloat($('#fbl-range-margin').val());\n    const fblIncM = parseFloat($('#fbl-inc-margin').val());\n    const fblPeriodM = parseFloat($('#fbl-period-margin').val());\n    const fblRcsM = parseFloat($('#fbl-rcs-margin').val());\n    const fblType = parseInt($('#fbl-type').val());\n    const fblRaan = parseFloat($('#fbl-raan').val());\n    const fblRaanM = parseFloat($('#fbl-raan-margin').val());\n    const fblArgPe = parseFloat($('#fbl-argPe').val());\n    const fblArgPeM = parseFloat($('#fbl-argPe-margin').val());\n    $('#search').val(''); // Reset the search first\n    const { uiManager } = keepTrackApi.programs;\n    try {\n        const res = searchSats(fblAzimuth, fblElevation, fblRange, fblInc, fblAzimuthM, fblElevationM, fblRangeM, fblIncM, fblPeriod, fblPeriodM, fblRcs, fblRcsM, fblType, fblRaan, fblRaanM, fblArgPe, fblArgPeM);\n        if (res.length === 0) {\n            uiManager.toast(`No Satellites Found`, 'critical');\n        }\n    }\n    catch (e) {\n        if (e.message === 'No Search Criteria Entered') {\n            uiManager.toast(`No Search Criteria Entered`, 'critical');\n        }\n    }\n};\nexport const limitPossibles = (possibles, limit) => {\n    const { uiManager } = keepTrackApi.programs;\n    if (possibles.length >= limit)\n        uiManager.toast('Too many results, limited to 200', 'warning');\n    possibles = possibles.filter((_possible, i) => i > limit - 1);\n    return possibles;\n};\n"],"names":[],"sourceRoot":""}