{"version":3,"file":"src_js_plugins_planetarium_planetarium_ts.443f3f935590c6c4b6ef.js","mappings":";;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACwD;AACjC;AACqC;AACrD;AACP;AACA,IAAI,6CAAC,yBAAyB,uEAAiB;AAC/C;AACA;AACA;AACA;AACA,0BAA0B,2DAAc,CAAC;AACzC;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,IAAI,2EAAqB;AACzB;AACA;AACA;AACA,KAAK;AACL,IAAI,uFAAiC;AACrC,IAAI,yGAAmD;AACvD;AACA,IAAI,2EAAqB;AACzB;AACA;AACA;AACA,KAAK;AACL;AACO;AACP,YAAY,kFAAkF,EAAE,2EAAqB;AACrH;AACA,2BAA2B,sFAAgC;AAC3D,YAAY,yGAAmD;AAC/D,YAAY,yGAAmD;AAC/D;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C,2EAA2E;AAC3E,YAAY,6CAAC;AACb,YAAY,6CAAC;AACb;AACA;AACA;AACA;AACA,mFAAmF;AACnF,gBAAgB,6CAAC;AACjB;AACA;AACA;AACA;AACA;AACA,2BAA2B,qFAA+B;AAC1D,oBAAoB,qGAA+C;AACnE,oBAAoB,6CAAC;AACrB;AACA,gBAAgB,yGAAmD;AACnE,gBAAgB,6CAAC;AACjB;AACA;AACA;AACA,oBAAoB,wHAAkE;AACtF;AACA,qBAAqB,6CAAC;AACtB,oBAAoB,6CAAC;AACrB;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA","sources":["webpack://keeptrack.space/./src/js/plugins/planetarium/planetarium.ts"],"sourcesContent":["/**\n * /////////////////////////////////////////////////////////////////////////////\n *\n * planetarium.ts is a plugin for showing the satellites above from the perspective\n * of a view on the earth.\n *\n * http://keeptrack.space\n *\n * @Copyright (C) 2016-2022 Theodore Kruczek\n *\n * KeepTrack is free software: you can redistribute it and/or modify it under\n * the terms of the GNU General Public License as published by the Free Software\n * Foundation, either version 3 of the License, or (at your option) any later version.\n *\n * KeepTrack is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS\n * FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\n * You should have received a copy of the GNU General Public License along with\n * KeepTrack. If not, see <http://www.gnu.org/licenses/>.\n *\n * TESTING: This plugin requires php to be installed on the server. It won't work\n * with the default http npm module.\n *\n * /////////////////////////////////////////////////////////////////////////////\n */\nimport { keepTrackApi } from '@app/js/api/keepTrackApi';\nimport $ from 'jquery';\nimport planetariumPng from '@app/img/icons/planetarium.png';\nexport const uiManagerInit = () => {\n    // Bottom Icon\n    $('#bottom-icons').append(keepTrackApi.html `\n        <div id=\"menu-planetarium\" class=\"bmenu-item bmenu-item-disabled\">\n          <img\n            alt=\"planetarium\"\n            src=\"\"\n            delayedsrc=\"${planetariumPng}\"\n          />\n          <span class=\"bmenu-title\">Planetarium View</span>\n          <div class=\"status-icon\"></div>\n        </div>\n      `);\n};\nexport const init = () => {\n    // Add HTML\n    keepTrackApi.register({\n        method: 'uiManagerInit',\n        cbName: 'planetarium',\n        cb: uiManagerInit,\n    });\n    keepTrackApi.programs.planetarium = {};\n    keepTrackApi.programs.planetarium.isPlanetariumView = false;\n    // Add JavaScript\n    keepTrackApi.register({\n        method: 'bottomMenuClick',\n        cbName: 'planetarium',\n        cb: bottomMenuClick,\n    });\n};\nexport const bottomMenuClick = (iconName) => {\n    const { drawManager, starManager, objectManager, uiManager, orbitManager, sensorManager } = keepTrackApi.programs;\n    if (iconName === 'menu-planetarium') {\n        const mainCamera = keepTrackApi.programs.mainCamera;\n        if (keepTrackApi.programs.planetarium.isPlanetariumView) {\n            keepTrackApi.programs.planetarium.isPlanetariumView = false;\n            mainCamera.isPanReset = true;\n            mainCamera.isLocalRotateReset = true;\n            settingsManager.fieldOfView = 0.6;\n            drawManager.glInit();\n            uiManager.hideSideMenus();\n            orbitManager.clearInViewOrbit(); // Clear Orbits if Switching from Planetarium View\n            mainCamera.cameraType.current = mainCamera.cameraType.Default; // Back to normal Camera Mode\n            $('#fov-text').html('');\n            $('#menu-planetarium').removeClass('bmenu-item-selected');\n            return;\n        }\n        else {\n            if (sensorManager.checkSensorSelected()) {\n                mainCamera.cameraType.current = mainCamera.cameraType.Planetarium; // Activate Planetarium Camera Mode\n                $('#fov-text').html('FOV: ' + (settingsManager.fieldOfView * 100).toFixed(2) + ' deg');\n                uiManager.legendMenuChange('planetarium');\n                if (objectManager.isStarManagerLoaded) {\n                    starManager.clearConstellations();\n                }\n                // If astronomy plugin is available then set it to false\n                if (typeof keepTrackApi.programs.astronomy !== 'undefined') {\n                    keepTrackApi.programs.astronomy.isAstronomyView = false;\n                    $('#menu-astronomy').removeClass('bmenu-item-selected');\n                }\n                keepTrackApi.programs.planetarium.isPlanetariumView = true;\n                $('#menu-planetarium').addClass('bmenu-item-selected');\n            }\n            else {\n                if (settingsManager.plugins.topMenu)\n                    keepTrackApi.programs.adviceManager.adviceList.planetariumDisabled();\n                uiManager.toast(`Select a Sensor First!`, 'caution');\n                if (!$('#menu-planetarium:animated').length) {\n                    $('#menu-planetarium').effect('shake', {\n                        distance: 10,\n                    });\n                }\n            }\n            return;\n        }\n    }\n};\n"],"names":[],"sourceRoot":""}